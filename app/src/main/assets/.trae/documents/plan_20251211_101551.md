# Bug修复与新功能实现计划

## 一、Bug修复

### 1. 鼠标滑动点击触发自动长按问题
- **原因**：鼠标移出木鱼元素后，mouseup事件不会在木鱼元素上触发，导致longPressTimer未被清除
- **修复方案**：确保在mouseleave事件中清除长按计时器
- **修改文件**：script.js

### 2. 主题切换时部分元素样式未更新
- **原因**：CSS中部分元素的阴影和颜色使用了硬编码值，未使用CSS变量
- **修复方案**：修改CSS，将所有元素的阴影和颜色改为使用CSS变量`--primary-color`
- **修改文件**：style.css

### 3. 木鱼样式切换无效
- **原因**：CSS中木鱼样式定义可能不完整
- **修复方案**：检查并完善CSS中不同木鱼样式的定义，增加更多木鱼形态
- **修改文件**：style.css

## 二、新功能实现

### 1. 成就系统完善
- **功能**：增加“成就”按钮，点击显示所有成就及达成状态
- **实现步骤**：
  - 在HTML中添加成就按钮
  - 实现成就面板UI
  - 实现成就列表显示逻辑
  - 添加成就达成状态标记
- **修改文件**：index.html, script.js, style.css

### 2. 炫酷主题元素
- **赛博朋克主题**：动态星空，随鼠标移动
- **柔和粉主题**：樱花飘落效果
- **深海蓝主题**：动态海波效果
- **日落橙主题**：太阳元素
- **实现步骤**：
  - 为每个主题添加相应的动态元素
  - 实现动画效果
  - 确保主题切换时动态元素正确显示/隐藏
- **修改文件**：script.js, style.css

### 3. 冥想时长自定义
- **功能**：支持自定义冥想时长，移动端调用系统选择器
- **实现步骤**：
  - 修改冥想时长选择UI
  - 实现自定义时长输入
  - 适配移动端系统选择器
- **修改文件**：index.html, script.js, style.css

### 4. 白噪音音乐选择机制
- **功能**：删除默认音效，增加音乐选择和上传功能
- **实现步骤**：
  - 移除默认白噪音生成代码
  - 添加音乐选择和上传UI
  - 实现音乐平台集成
  - 实现音乐搜索、播放功能
- **修改文件**：index.html, script.js, style.css

## 三、开发顺序

1. 首先修复现有bug
2. 实现成就系统完善
3. 实现炫酷主题元素
4. 实现冥想时长自定义
5. 实现白噪音音乐选择机制

## 四、预期效果

- 修复所有现有bug，确保功能正常
- 新增成就系统，提升用户成就感
- 增强主题视觉效果，提升用户体验
- 增加冥想时长自定义，提高灵活性
- 实现白噪音音乐选择，提供更多解压方式