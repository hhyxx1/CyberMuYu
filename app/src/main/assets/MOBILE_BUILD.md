# CyberMuYu 移动端应用构建说明

## 项目概述
CyberMuYu 是一款赛博风格的电子木鱼应用，支持呼吸引导、冥想和白噪音功能。本项目已完全适配移动设备，支持作为 PWA (Progressive Web App) 安装使用。

## 移动端适配特性

### 1. 响应式设计
- **布局适配**：所有界面元素会根据屏幕尺寸自动调整大小和位置
- **字体优化**：在移动设备上使用更适合阅读的字体大小
- **交互优化**：按钮和可点击元素尺寸经过优化，提高移动端点击体验

### 2. 移动端专属功能
- **设备动作星空跟随**：赛博朋克主题的星空背景可根据设备倾斜角度移动
- **触控优化**：支持触摸事件，包括长按自动连击功能
- **手势支持**：优化了触摸反馈和动画效果

### 3. PWA 特性
- **离线使用**：支持离线访问和使用核心功能
- **桌面安装**：可安装到移动设备桌面，提供原生应用体验
- **应用图标**：适配不同尺寸的设备图标
- **启动画面**：提供流畅的应用启动体验

## 构建与部署

### 核心文件检查
确保以下关键文件已正确配置：

1. **index.html**
   - 响应式 viewport 配置
   - PWA 元标签
   - iOS 设备支持

2. **manifest.json**
   - 应用名称和描述
   - 图标资源
   - 显示模式配置
   - 应用快捷方式

3. **service-worker.js**
   - 离线缓存策略
   - 资源预加载
   - 缓存更新机制

4. **style.css**
   - 媒体查询适配
   - 移动端样式优化

5. **script.js**
   - 移动设备检测
   - 设备动作监听
   - 响应式交互逻辑

### 部署要求
- 使用支持 HTTPS 的服务器（PWA 要求）
- 确保所有资源文件可正常访问
- 配置正确的 MIME 类型

## PWA 安装指南

### Android 设备（Chrome 浏览器）
1. 打开 CyberMuYu 应用网页
2. 点击浏览器右上角的菜单按钮
3. 选择 "添加到主屏幕" 或 "安装应用"
4. 按照提示完成安装

### iOS 设备（Safari 浏览器）
1. 打开 CyberMuYu 应用网页
2. 点击浏览器底部的分享按钮
3. 选择 "添加到主屏幕"
4. 点击 "添加" 完成安装

## 移动端功能使用说明

### 基本功能
- **点击木鱼**：触摸屏幕上的木鱼图标进行点击
- **长按自动连击**：长按木鱼图标可持续连击
- **音效选择**：在音效选择器中切换不同的点击音效
- **主题切换**：在主题选择器中切换不同的视觉主题

### 高级功能

#### 呼吸引导
1. 点击 "呼吸引导" 按钮
2. 跟随屏幕中央的呼吸指示器进行呼吸练习
3. 再次点击按钮退出呼吸模式

#### 冥想功能
1. 选择冥想时长（5分钟/10分钟/15分钟/自定义）
2. 点击 "开始冥想" 按钮
3. 专注冥想，直到计时结束

#### 白噪音
1. 点击 "白噪音" 按钮开启白噪音
2. 再次点击按钮关闭白噪音

#### 赛博朋克主题星空效果
- **桌面端**：鼠标移动时星空会跟随鼠标位置
- **移动端**：倾斜设备时星空会根据设备角度移动

## 故障排除

### 安装问题
- 确保使用支持 PWA 的现代浏览器（Chrome、Safari、Edge）
- 检查网络连接是否正常
- 确保网站使用 HTTPS 协议

### 功能问题
- **星空不跟随设备动作**：检查设备是否开启了方向传感器
- **触摸无响应**：尝试刷新页面或重新安装应用
- **音效不播放**：检查设备音量和浏览器音频设置

### 性能问题
- 清理浏览器缓存
- 关闭其他占用资源的应用
- 如果设备性能较低，建议选择视觉效果较少的主题

## 更新日志

### 最新版本
- 实现移动端设备动作星空跟随效果
- 优化 PWA 安装体验
- 改进移动端响应式设计
- 修复触摸事件处理问题

## 开发与维护

### 技术栈
- HTML5
- CSS3
- JavaScript (ES6+)
- PWA API

### 核心文件结构
```
CyberMuYu/
├── index.html          # 主页面
├── style.css           # 样式文件
├── script.js           # 主逻辑
├── manifest.json       # PWA 配置
├── service-worker.js   # 离线服务
├── MOBILE_BUILD.md     # 本文档
└── icons/              # 应用图标
```

### 移动端测试
- 使用真实设备进行测试
- 测试不同屏幕尺寸和分辨率
- 测试触摸交互和设备动作功能

## 许可证

本项目采用 MIT 许可证。