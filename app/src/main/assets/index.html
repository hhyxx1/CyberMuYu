<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="description" content="èµ›åšé£æ ¼ç”µå­æœ¨é±¼ï¼Œè§£å‹ç¥å™¨ï¼Œæ”¯æŒå‘¼å¸å¼•å¯¼å’Œå†¥æƒ³åŠŸèƒ½">
    <meta name="keywords" content="èµ›åšæœ¨é±¼, CyberMuYu, è§£å‹, å†¥æƒ³, å‘¼å¸å¼•å¯¼">
    <title>CyberMuYu - è§£å‹ç¥å™¨</title>
    <link rel="stylesheet" href="style.css">

    <!-- PWA ç›¸å…³é…ç½® -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
    <meta name="background-color" content="#000000">
    <meta name="color-scheme" content="dark">

    <!-- iOS æ”¯æŒ -->
    <link rel="apple-touch-icon" href="icon-192.svg">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="èµ›åšæœ¨é±¼">
    <meta name="format-detection" content="telephone=no, email=no">

    <!-- å…¶ä»–æµè§ˆå™¨æ”¯æŒ -->
    <link rel="icon" href="icon-192.svg" type="image/svg+xml">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="icon-192.svg">

    <!-- ç¤¾äº¤åˆ†äº«æ”¯æŒ -->
    <meta property="og:title" content="CyberMuYu - èµ›åšæœ¨é±¼">
    <meta property="og:description" content="èµ›åšé£æ ¼ç”µå­æœ¨é±¼ï¼Œè§£å‹ç¥å™¨">
    <meta property="og:type" content="website">
    <meta property="og:image" content="icon-512.svg">
    <meta property="og:url" content="./index.html">
</head>
<body>
    <!-- é¡µé¢å†…å®¹åŒºï¼ˆå¯æ»šåŠ¨ï¼‰ -->
    <div class="page-content">
        <div class="container">
            <h1>CyberMuYu</h1>
            <p>For æ¨Šäº‹è¯š Edition</p>
            <div class="counter">0</div>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-label">è¿ç»­ç‚¹å‡»ï¼š</span>
                    <span class="stat-value" id="consecutiveCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">ä»Šæ—¥æ¬¡æ•°ï¼š</span>
                    <span class="stat-value" id="todayCount">0</span>
                </div>
            </div>
            <div class="fish-container">
                <div class="fish" id="fish">
                    <div class="fish-body"></div>
                    <div class="fish-eye"></div>
                </div>
                <div class="speech-bubble" id="speechBubble">
                    <div class="bubble-content">æ•²æœ¨é±¼æœ‰æƒŠå–œå“¦</div>
                    <button class="bubble-close" id="bubbleClose">&times;</button>
                </div>
            </div>
            <div class="controls">
                <div class="sound-selector">
                    <label for="soundType">éŸ³æ•ˆé€‰æ‹©ï¼š</label>
                    <select id="soundType">
                        <option value="wood">æœ¨é±¼</option>
                        <option value="bell">é“ƒé“›</option>
                        <option value="water">æ°´æ»´</option>
                        <option value="chime">é£é“ƒ</option>
                    </select>
                </div>
                <div class="theme-selector">
                    <label for="theme">ä¸»é¢˜é€‰æ‹©ï¼š</label>
                    <select id="theme">
                        <option value="cyber">èµ›åšæœ‹å…‹</option>
                        <option value="pastel">æŸ”å’Œç²‰</option>
                        <option value="ocean">æ·±æµ·è“</option>
                        <option value="sunset">æ—¥è½æ©™</option>
                    </select>
                </div>
                <div class="fish-style-selector">
                    <label for="fishStyle">æœ¨é±¼æ ·å¼ï¼š</label>
                    <select id="fishStyle">
                        <option value="cyber">èµ›åš</option>
                        <option value="traditional">ä¼ ç»Ÿ</option>
                        <option value="crystal">æ°´æ™¶</option>
                        <option value="metal">é‡‘å±</option>
                        <option value="fire">ç«ç„°</option>
                        <option value="ice">å¯’å†°</option>
                    </select>
                </div>
                <div class="white-noise-control">
                    <div class="white-noise-header">
                        <button id="whiteNoiseToggle" class="control-btn">ç™½å™ªéŸ³</button>
                        <button id="customMusicBtn" class="control-btn">è‡ªå®šä¹‰éŸ³ä¹</button>
                        <button id="restoreDefaultMusicBtn" class="control-btn" style="display: none;">æ¢å¤é»˜è®¤éŸ³ä¹</button>
                    </div>
                </div>
                <div class="breath-control">
                    <button id="breathMode" class="control-btn">å‘¼å¸å¼•å¯¼</button>
                </div>
                <div class="achievements-control">
                    <button id="achievementsBtn" class="control-btn">æˆå°±</button>
                </div>
                <div class="vibration-control">
                    <button id="vibrationToggle" class="control-btn">éœ‡åŠ¨</button>
                </div>
                <div class="meditation-control">
                    <label for="meditationDuration">å†¥æƒ³æ—¶é•¿ï¼š</label>
                    <div class="duration-selector">
                        <select id="meditationDuration" class="duration-preset">
                            <option value="300">5åˆ†é’Ÿ</option>
                            <option value="600">10åˆ†é’Ÿ</option>
                            <option value="900">15åˆ†é’Ÿ</option>
                            <option value="custom">è‡ªå®šä¹‰</option>
                        </select>
                        <button id="customDurationBtn" class="control-btn duration-custom" style="display: none;">é€‰æ‹©æ—¶é•¿</button>
                    </div>
                    <button id="meditationMode" class="control-btn">å¼€å§‹å†¥æƒ³</button>
                </div>
            </div>
            <!-- æˆå°±é¢æ¿ -->
            <div class="achievements-panel" id="achievementsPanel">
                <div>
                    <div class="achievements-header">
                        <h2>æˆå°±åˆ—è¡¨</h2>
                        <button class="achievements-close" id="achievementsClose">Ã—</button>
                    </div>
                    <div class="achievements-content" id="achievementsContent">
                        <!-- æˆå°±åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
            <!-- ä¸»é¢˜åŠ¨æ€å…ƒç´ å®¹å™¨ -->
            <div class="theme-elements" id="themeElements"></div>
        </div>
    </div>
    
    <!-- ç‚¹å‡»æ•ˆæœå®¹å™¨ -->
    <div class="ripple-container" id="rippleContainer"></div>
    <div class="particle-container" id="particleContainer"></div>

    <!-- å°æƒŠå–œæ–‡å­— -->
    <div class="surprise-container">
        <span id="surpriseText" class="surprise-text">å°æƒŠå–œ</span>
    </div>

    <!-- éŸ³ä¹æ’­æ”¾æ§ä»¶ -->
    <div class="music-player">
        <div class="select-music-container">
            <span id="selectMusicText" class="select-music-text">é€‰æ‹©éŸ³ä¹</span>
        </div>
        <div class="auto-play-container">
            <button id="autoPlayToggle" class="auto-play-btn">è‡ªåŠ¨æ’­æ”¾ï¼šå¼€</button>
        </div>
        <div class="music-info">
            <span class="music-title">æ‚”è¿‡è¯—-æ¨Šäº‹è¯š</span>
            <div class="music-time">
                <span id="currentTime">0:00</span>
                <span> / </span>
                <span id="totalTime">0:00</span>
            </div>
        </div>
        <div class="music-controls">
            <button id="musicPlayPause" class="music-btn">â–¶</button>
            <div class="music-progress-container">
                <div class="music-progress" id="musicProgress"></div>
            </div>
            <button id="musicMute" class="music-btn">ğŸ”Š</button>
        </div>
    </div>

    <!-- éŸ³ä¹é€‰æ‹©å¯¹è¯æ¡† -->
    <div class="music-selector-dialog" id="musicSelectorDialog">
        <div class="music-selector-content">
            <div class="music-selector-header">
                <h2 class="music-selector-title">é€‰æ‹©éŸ³ä¹</h2>
                <button class="music-selector-close" id="musicSelectorClose">Ã—</button>
            </div>
            <ul class="music-selector-list" id="musicSelectorList">
                <!-- éŸ³ä¹åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </ul>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>

    <!-- Service Worker æ³¨å†Œ -->
    <script>
      // åªæœ‰åœ¨ http:// æˆ– https:// åè®®ä¸‹æ‰æ³¨å†Œ ServiceWorker
      if ('serviceWorker' in navigator && window.location.protocol !== 'file:') {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('./service-worker.js')
            .then(function(registration) {
              console.log('ServiceWorker registration successful with scope: ', registration.scope);
            }, function(err) {
              console.log('ServiceWorker registration failed: ', err);
            });
        });
      } else {
        console.log('ServiceWorker not supported in this environment');
      }
    </script>
</body>
</html>